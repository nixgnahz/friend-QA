<style lang="less">
  .top {
    width: 517rpx;
    height: 516rpx;
    margin: 25rpx auto 50rpx;
    image {
      width: 517rpx;
      height: 516rpx;
    }
  }
  .btnItems {
    background-size: 100% 100%;
    background-image: url(data:image/png;base64,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);
    margin: 30rpx 70rpx 0;
     button {
      background: transparent;
      color: #fff;
      font-size: 30rpx;
      height: 100rpx;
      line-height: 100rpx;
    }
  }
</style>

<template>
  <view class="top">
    <image src="http://wx.11babay.cn/uploads/Q/Qdh4nAHglce5Bkn7PTKf/9/d/b/1/5c04d32431ae6.png"></image>
  </view>
  <view class="other">
    <view class="btnGrounp">
      <repeat for="{{btnArr}}" key="index" index="index" item="item">
        <view class="btnItems">
          <button
            hover-class="none"
            @tap="navigate({{item.id}})"
            open-type="{{isGetUserInfo ? 'getUserInfo' : ''}}"
            bindgetuserinfo="getUserInfo"
          >{{item.text}}</button>
        </view>
      </repeat>
    </view>
  </view>
</template>

<script>
  import wepy from 'wepy'
  import { navigate } from '@/api/common'

  export default class Index extends wepy.page {
    data = {
      isGetUserInfo: true,
      btnArr: [
        {
          id: 'setQus',
          text: '我要出题'
        },
        {
          id: 'qusRecord',
          text: '我的出题记录'
        },
        {
          id: 'ansRecord',
          text: '我的答题记录'
        },
        {
          id: 'wallet',
          text: '我的钱包'
        }
      ]
    }

    async onLoad () {
      await this.$parent.getUserInfo()
      if (this.$parent.userInfo.portrait) {
        this.isGetUserInfo = false
        this.$apply()
      }
    }

    methods = {
      navigate (id) {
        if (!this.isGetUserInfo) {
          navigate(`./${id}`)
        }
      }
    }

    async getUserInfo (e) {
      if (e.detail.userInfo) {
        await this.$parent.setUserInfo(e.detail.userInfo)
        this.isGetUserInfo = false
        this.$apply()
      }
    }
  }
</script>
